SPEC

1. Haverá um conjunto de programas (sec, clientes, web) padrão a todo o
observatório.

2. Haverá um arquivo de configuração único para o observatório, com
informações sobre que instrumentos estão ativos ou disponíveis.

3. Haverá um script de inicialização seletiva do observatório, onde poderão
ser escolhidos os instruemntos a inicializar.

4. Cada instrumento terá: (opcional) um programa de baixo nivel, (opcional) um
daemon de controle, e um arquivo de configuração.

5. No script de instalação/configuração, o usuário poderá compilar quantos
módulos/instrumentos quiser, mas o módulo de controle básico é obrigatório
(item 1) (????)


PROPOSTA DE SOURCE TREE

- ./prog/lib/* - estariam no include path de cada modulo que necessite de
alguma biblioteca, assim, os includes permaneceriam iguais (#include "sbig.h",
etc).

- dentro de cada módulo de instrumento do ./prog/src só haverão includes do
próprio módulo, includes de bibliotecas devem ficar nos diretórios da
respectiva biblioteca.


prog/
|-- lib/
|   |-- sbig/
|   |-- serial/
`-- src/
    |-- cam/
    |   |-- camd/
    |   |-- camfits.fake/
    |   |-- camfits.st4/
    |   |-- camfits.st7/
    |   |-- camfits.st8/
    |   `-- etc/
    |-- client/
    |   |-- gtk/
    |   `-- simple/
    |-- dome/
    |   |-- dome.fake/
    |   |-- dome.iag/
    |   |-- dome.ufsc/
    |   |-- domed/
    |   `-- etc/
    |-- etc/
    |   `-- init_scripts/
    |-- monitor/
    |   |-- etc/
    |   `-- monitord/
    |-- sec/
    |-- sync/
    |   |-- etc/
    |   `-- syncd/
    |-- tel/
    |   |-- etc/
    |   |-- teld/
    |   |-- telgo.fake/
    |   |-- telgo.lx200/
    |   `-- telgo.paramount/
    |-- weather/
    |   |-- etc/
    |   |-- weather.fake/
    |   |-- weather.iag/
    |   |-- weather.wx200/
    |   `-- weatherd/
    `-- www/

PROPOSTA DE INSTALL TREE

- No código, podemos usar as variáveis do config.h (não sei bem como :-) para
sabermos onde as coisas serão instaladas. Isto é definido pelo valor da flag
--prefix do ./configure.

/
|-- prefix/
|   |-- bin/
|   |   |-- core_bins
|   |   |-- instruments
|   |   `-- start_script
|   |-- etc/
|   |   `-- prog/
|   |       |-- instrument_configs
|   |       `-- main_config
|   |-- include/
|   |   `-- includes_das_libs
|   |-- lib/
|   |   |-- libcfitsio.a
|   |   |-- libcfitsio.so
|   |   |-- libprog-serial.a
|   |   |-- libprog-serial.so
|   |   |-- libsgib.a
|   |   |-- libsgib.so
|   |   |-- libssl.a
|   |   |-- libssl.so
|   |   `-- ...
|   `-- man/
|-- rc.d/
|   `-- start_script_links
|-- var/
|   `-- log/
|       `-- prog/
`-- www/
